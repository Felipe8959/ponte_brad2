# Filtra apenas os erros específicos que queremos investigar
# Exemplo: Onde era Cartão mas o modelo disse Empréstimos
filtro_erro = (df_results['REAL_FAM'] == 'Cartão') & (df_results['PRED_FAM'].str.contains('Empréstimos'))

# Mostra o texto do cliente e o que aconteceu
erros_detalhados = df_results[filtro_erro].copy()
erros_detalhados = erros_detalhados[['REAL_FULL', 'PRED_FULL']] # Coloque a coluna de texto aqui também

# Precisamos recuperar o texto original (assumindo que os índices batem com X_val)
# Se você usou train_test_split com shuffle, o índice foi preservado no y_val
# Vamos tentar recuperar o texto original do df_historico usando o índice
erros_detalhados['TEXTO_ORIGINAL'] = df_historico.loc[y_val.index, 'TEXTO_CLIENTE']

pd.set_option('display.max_colwidth', None)
print("--- FRASES QUE ERAM CARTÃO E FORAM PARA EMPRÉSTIMO ---")
print(erros_detalhados['TEXTO_ORIGINAL'].head(10))
